{"mappings":"AAAA,MAGMA,EAAU,CACZC,QAAS,CACL,YALQ,0ECEhB,MAAMC,EAAgB,IDOf,MAGHC,cACI,OAAOC,MAZI,sCAYcJ,GACpBK,MAAMC,GACIA,EAAIC,Q,CAIvBC,gBAAgBC,GACZ,OAAOL,MAAM,wDAA4BK,IAAWT,GAASK,MAAMC,GACxDA,EAAIC,SACZF,MAAMC,GACEA,EAAI,I,CAbnBI,cAAc,GCPZC,EAAM,CACRC,YAAaC,SAASC,cAAc,iBACpCC,QAASF,SAASC,cAAc,aAChCE,OAAQH,SAASC,cAAc,WAC/BG,MAAOJ,SAASC,cAAc,WAQ9BH,EAAIK,OAAOE,UAAUC,IAAI,cAEzBjB,EAAcC,cAAcE,MAAMC,KAQtC,SAAyBc,GACrB,MAAMC,EAAeD,EAAKE,KAAKC,IAC3B,MAAMC,GAAEA,EAAEC,KAAEA,GAASF,EAErB,MAAO,gCACcC,MAAOC,sBAC3B,IACFC,KAAK,IAERf,EAAIC,YAAYe,mBAAmB,YAAaN,GAChDV,EAAIC,YAAYM,UAAUC,IAAI,cAC9BR,EAAIK,OAAOE,UAAUU,OAAO,a,CAlBxBC,CAAgBvB,EAAI,IACrBwB,OAAOC,IACNpB,EAAIK,OAAOE,UAAUU,OAAO,cAC5BjB,EAAIM,MAAMC,UAAUC,IAAI,aAAa,IAV7CR,EAAIC,YAAYoB,iBAAiB,UA4BjC,SAAoBC,GAChBtB,EAAIK,OAAOE,UAAUC,IAAI,cACzBR,EAAII,QAAQG,UAAUU,OAAO,cAC7BjB,EAAIM,MAAMC,UAAUU,OAAO,cAE3B1B,EAAcM,gBAAgByB,EAAEC,cAAcC,OAAO9B,MAAMC,IACvD,MAAM8B,OAAEA,EAAMC,IAAEA,GAAQ/B,EAElBS,EAAWqB,EAAOd,KAAI,EAACG,KAAEA,EAAIa,YAAEA,EAAWC,YAAEA,KACvC,oEAE2BF,mEAGxBZ,8BACDa,+FAE6CC,8DAIvDb,KAAK,IAERf,EAAII,QAAQyB,UAAYzB,EACxBJ,EAAII,QAAQG,UAAUC,IAAI,cAC1BR,EAAIK,OAAOE,UAAUU,OAAO,aAAa,IAC1CE,OAAOC,IACNU,QAAQC,IAAI,oBAAqBX,GAEjCpB,EAAIK,OAAOE,UAAUU,OAAO,cAC5BjB,EAAIM,MAAMC,UAAUC,IAAI,aAAa,G","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const API_KEY = 'live_4jedRlAWSRx3jFyMn5M3JGRQ8rFrFURgp3h7GLTPmakUBvLr0FdhVLk6nvXpBVyl';\nconst BREEDS_URL = 'https://api.thecatapi.com/v1/breeds';\nconst BASE_ID_URL = 'https://api.thecatapi.com/v1/images/search';\nconst options = {\n    headers: {\n        'x-api-key': API_KEY,\n    }\n}\n\nexport class CatApiService {\n    constructor() { }\n    \n    fetchBreeds() {\n        return fetch(BREEDS_URL, options)\n            .then((res) => {\n                return res.json();\n            })\n    }\n\n    fetchCatByBreed(breedId) {\n        return fetch(`${BASE_ID_URL}?breed_ids=${breedId}`, options).then((res) => {\n            return res.json();\n        }).then((res) => {\n            return res[0];\n        })\n    }\n}","import { CatApiService } from \"./cat-api\"\n\nconst catApiService = new CatApiService();\nconst ell = {\n    breedSelect: document.querySelector('.breed-select'),\n    catInfo: document.querySelector('.cat-info'),\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n}\n\ngetCatBreeds();\nell.breedSelect.addEventListener('change', getCatInfo);\n\n\nfunction getCatBreeds() {\n    ell.loader.classList.add('js-visible');\n\n    catApiService.fetchBreeds().then((res) => {\n        setCatNamesList(res);\n    }).catch((err) => {\n        ell.loader.classList.remove('js-visible');\n        ell.error.classList.add('js-visible');\n    })\n}\n\nfunction setCatNamesList(list) {\n    const catNamesList = list.map((cat) => {\n        const { id, name } = cat;\n\n        return `\n            <option value='${id}'>${name}</option>\n        `\n    }).join('');\n\n    ell.breedSelect.insertAdjacentHTML('beforeend', catNamesList);\n    ell.breedSelect.classList.add('js-visible');\n    ell.loader.classList.remove('js-visible');\n}\n\nfunction getCatInfo(e) {\n    ell.loader.classList.add('js-visible');\n    ell.catInfo.classList.remove('js-visible');\n    ell.error.classList.remove('js-visible');\n\n    catApiService.fetchCatByBreed(e.currentTarget.value).then((res) => {\n        const { breeds, url } = res;\n\n        const catInfo =  breeds.map(({ name, description, temperament }) => {\n            return `\n            <div>\n                <img class='cat-image' src='${url}'>\n            </div>\n            <div>\n                <h2>${name}</h2>\n                <p>${description}</p>\n                <p>\n                    <span class='evidance'>Temperament: </span> ${temperament}\n                </p>\n            </div>\n            `\n        }).join('');\n\n        ell.catInfo.innerHTML = catInfo;\n        ell.catInfo.classList.add('js-visible');\n        ell.loader.classList.remove('js-visible');\n    }).catch((err) => {\n        console.log('Opps! Some error!', err);\n\n        ell.loader.classList.remove('js-visible');\n        ell.error.classList.add('js-visible');\n    });\n}\n"],"names":["$6b5f202d1456c0af$var$options","headers","$1f0dc3b9307be026$var$catApiService","fetchBreeds","fetch","then","res","json","fetchCatByBreed","breedId","constructor","$1f0dc3b9307be026$var$ell","breedSelect","document","querySelector","catInfo","loader","error","classList","add","list","catNamesList","map","cat","id","name","join","insertAdjacentHTML","remove","$1f0dc3b9307be026$var$setCatNamesList","catch","err","addEventListener","e","currentTarget","value","breeds","url","description","temperament","innerHTML","console","log"],"version":3,"file":"index.26e384d5.js.map"}